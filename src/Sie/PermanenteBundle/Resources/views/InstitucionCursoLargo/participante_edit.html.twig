{% extends 'layoutPermanente.html.twig' %}
{% block stylesheets %}
    {{parent()}}
    <link href="{{asset('css/chosen.css')}}" rel="stylesheet">
{% endblock %}
{% block contentoption %}

    <div class="row">
        <div class="col-lg-12">
            <div class="page-title">
                <h1>Cursos Largos
                    <small>Centro Educativo</small>
                </h1>
                <ol class="breadcrumb">
                    <li><i class="fa fa-dashboard"></i>  <a href="{{path('institucioncursolargo')}}">Cursos Largos</a></li>
                    <li><i class="fa fa-list"></i>  <a href="{{path('institucioncursolargo_participante_session')}}">Participantes</a></li>
                    <li>  Editar</li>
                </ol>
            </div>
        </div>
        <!-- /.col-lg-12 -->
    </div>
    
    <div class="row">
        <div class="col-lg-12">
            <div class="portlet portlet-{{ app.session.get('sysporlet') }}">
                <div class="portlet-heading">
                    <div class="portlet-title">
                        <h4>Datos Participante</h4>
                    </div>
                    <div class="portlet-widgets">                        
                        <span class="divider"></span>
                        <a data-toggle="collapse" data-parent="#accordion" href="basic-form-elements.html#panelmaestro"><i class="fa fa-chevron-down"></i></a>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div id="panelmaestro" class="panel-collapse collapse in">
                    <div class="portlet-body">
                        <div class="panel-body panel-primary">
                            
                            {{form_start(form, { 'attr': {'data-toggle': 'validator','role': 'form'} } )}}
                            <div class="panel-body">
                                <h4>Datos del Participante</h4>
                                <hr>
                                <div class="row">
                                    <div class="form-group col-lg-3 col-md-6">
                                        {{ form_label(form.carnetIdentidad)}}
                                        {{form_widget(form.carnetIdentidad) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                    <div class="form-group col-lg-3 col-md-6">
                                        {{ form_label(form.complemento)}}
                                        <div class="input-group">
                                            <div class="input-group-addon">-</div>
                                            {{form_widget(form.complemento,{'attr':{'data-toggle':'tooltip','data-placement':'bottom','data-original-title':'El complemento del CI no es el lugar de expedicion, no coloque abreviaciones de departamentos'} }) }}
                                        </div>
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-lg-3 col-md-6">
                                        {{ form_label(form.paterno)}}
                                        {{form_widget(form.paterno) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                    <div class="form-group col-lg-3 col-md-6">
                                        {{ form_label(form.materno)}}
                                        {{form_widget(form.materno) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                    <div class="form-group col-lg-3 col-md-6">
                                        {{ form_label(form.nombre)}}
                                        {{form_widget(form.nombre) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                    <div class="form-group col-lg-3 col-md-6">
                                        {{ form_label(form.genero)}}
                                        {{form_widget(form.genero) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-lg-3 col-md-6">
                                        {{ form_label(form.fechaNacimiento)}}
                                        <div id='sandbox-container'>
                                        {{form_widget(form.fechaNacimiento) }}
                                        </div>
                                        <div class="help-block with-errors"></div>
                                    </div>
                                    <div class="form-group col-lg-6 col-md-6">
                                        {{ form_label(form.correo)}}
                                        {{form_widget(form.correo) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                    
                                </div>
                                <div class="row">
                                    <div class="form-group col-lg-6 col-md-12">
                                        {{ form_label(form.nacPais)}}
                                        {{form_widget(form.nacPais) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                    <div class="form-group col-lg-6 col-md-12">
                                        {{ form_label(form.nacDepartamento)}}
                                        {{form_widget(form.nacDepartamento) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                    <div class="form-group col-lg-6 col-md-12">
                                        {{ form_label(form.nacProvincia)}}
                                        {{form_widget(form.nacProvincia) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                    <div class="form-group col-lg-6 col-md-12">
                                        {{ form_label(form.nacLugar)}}
                                        {{form_widget(form.nacLugar) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>
                                <h4>Dirección actual del participante</h4>
                                <hr>
                                <div class="row">
                                    <div class="form-group col-lg-6 col-md-12">
                                        {{ form_label(form.departamento)}}
                                        {{form_widget(form.departamento) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                    <div class="form-group col-lg-6 col-md-12">
                                        {{ form_label(form.provincia)}}
                                        {{form_widget(form.provincia) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-lg-6 col-md-12">
                                        {{ form_label(form.municipio)}}
                                        {{form_widget(form.municipio) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                    <div class="form-group col-lg-6 col-md-12">
                                        {{ form_label(form.localidad)}}
                                        {{form_widget(form.localidad) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-lg-3 col-md-6">
                                        {{ form_label(form.zona)}}
                                        {{form_widget(form.zona) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                    <div class="form-group col-lg-3 col-md-6">
                                        {{ form_label(form.calle)}}
                                        {{form_widget(form.calle) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                    <div class="form-group col-lg-3 col-md-6">
                                        {{ form_label(form.nro)}}
                                        {{form_widget(form.nro) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                    <div class="form-group col-lg-3 col-md-6">
                                        {{ form_label(form.celular)}}
                                        {{form_widget(form.celular) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>
                                <h4>Información sobre Discapacidad</h4>
                                <hr>
                                <div class="row">
                                    <div class="form-group col-lg-12 col-md-12">
                                        {{ form_label(form.discapacidad)}}
                                        {{form_widget(form.discapacidad) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>
                                <h4>Idiomas</h4>
                                <div class="row">
                                    <div class="form-group col-lg-6 col-md-12">
                                        {{ form_label(form.idiomaMaterno)}}
                                        {{form_widget(form.idiomaMaterno) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                    <div class="form-group col-lg-6 col-md-12">
                                        {{ form_label(form.identifica)}}
                                        {{form_widget(form.identifica) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-lg-12 col-md-12">
                                        {{ form_label(form.idiomaConoce)}}
                                        {{form_widget(form.idiomaConoce) }}
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>
                                <hr>
                                <div class="form-group">
                                    <div class="col-lg-12 text-center">
                                        {{ form_widget(form.guardar ) }}
                                        <a href="{{path('institucioncursolargo_participante_session')}}" class="btn btn-default">Cancelar</a>
                                    </div>
                                </div>


                            </div>
                            {{form_end(form)}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> 
{% endblock %}
{% block javascripts %}
    {{parent()}}
    <script src="{{asset('js/chosen.jquery.js')}}"></script>

    <script>
        $('.chosen-select').chosen(); 
        $('.chosen-select-deselect').chosen({ allow_single_deselect: true });

        /* Para nacimiento */
        function nacDepartamentos(pais){
            $.ajax({
                type: 'get',
                url: Routing.generate('icl_departamento',{'pais': pais}),
                beforeSend: function () {
                    $("#form_nacDepartamento").empty();
                    $("#form_nacLocalidad").empty();
                },
                success: function (data) {
                    $("#form_nacDepartamento").empty();
                    $("#form_nacLocalidad").empty();
                    $("#form_nacDepartamento").append('<option value="">Seleccionar...</option>');
                    $("#form_nacLocalidad").append('<option value="">Seleccionar...</option>');
                    $.each(data.departamentos, function (i, value) {
                        $("#form_nacDepartamento").append('<option value="' + i + '">' + value + '</option>');
                    });
                }
            });
        }
        function nacProvincias(departamento){
            $.ajax({
                type: 'get',
                url: Routing.generate('icl_provincia',{'departamento': departamento}),
                beforeSend: function () {
                    $("#form_nacProvincia").empty();
                },
                success: function (data) {
                    $("#form_nacProvincia").empty();
                    $("#form_nacProvincia").append('<option value="">Seleccionar...</option>');
                    $.each(data.provincias, function (i, value) {
                        $("#form_nacProvincia").append('<option value="' + i + '">' + value + '</option>');
                    });
                }
            });
        }


        /* Para direccion */
        function provincias(departamento){
            $.ajax({
                type: 'get',
                url: Routing.generate('icl_provincia',{'departamento': departamento}),
                beforeSend: function () {
                    $("#form_provincia").empty();
                    $("#form_municipio").empty();
                },
                success: function (data) {
                    $("#form_provincia").empty();
                    $("#form_municipio").empty();
                    $("#form_provincia").append('<option value="">Seleccionar...</option>');
                    $("#form_municipio").append('<option value="">Seleccionar...</option>');
                    $.each(data.provincias, function (i, value) {
                        $("#form_provincia").append('<option value="' + i + '">' + value + '</option>');
                    });
                }
            });
        }
        function municipios(provincia){
            $.ajax({
                type: 'get',
                url: Routing.generate('icl_municipio',{'provincia': provincia}),
                beforeSend: function () {
                    $("#form_municipio").empty();
                },
                success: function (data) {
                    $("#form_municipio").empty();
                    $("#form_municipio").append('<option value="">Seleccionar...</option>');
                    $.each(data.municipios, function (i, value) {
                        $("#form_municipio").append('<option value="' + i + '">' + value + '</option>');
                    });
                }
            });
        }

    </script>
{% endblock %}
