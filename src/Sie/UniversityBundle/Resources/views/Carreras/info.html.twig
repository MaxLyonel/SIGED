{% extends 'layoutUniversity.html.twig' %}
{## % extends 'layoutRegular.html.twig' % ##}
{% block contentBread %}
<i class="fa fa-angle-right"></i>
<a href="#">
    Sedes

</a>
{% endblock %}
{% block contentoption %}
<style>
    .formatyears {
        width: 200px;
        padding: 16px;
        border-radius: 10px;
        margin: auto;
        background-color: #e5e7e9;
    }

    .formatyearsform {
        padding: 16px;
        border-radius: 10px;
        margin: auto;
        background-color: #e5e7e9;
    }

    .formatallstaff {
        width: 100%;
        padding: 16px;
        border-radius: 10px;
        margin: auto;
        background-color: #e5e7e9;
    }

    form {
        padding: 0 !important;
        margin: 0 0 !important;
    }
</style>
<!-- Start page header -->
<link rel="stylesheet" href="{{asset('css/kcssformat.css')}}">
<div class="header-content fixed-top">
    <h2>
        <i class="fa fa-home"></i>
        {% if titulo is defined %}
        {{ titulo }}
        {% endif %}
        <span>
            {% if subtitulo is defined %}
            {{ subtitulo }}
            {% endif %}
        </span>
    </h2>
    <div class="breadcrumb-wrapper hidden-xs">
        <span class="label">
            Usted esta aquí:
        </span>
        <ol class="breadcrumb">
            <li>
                <i class="fa fa-home"></i>
                <a href="{{path('maininfouni_index')}}">Registro de Información</a>
                <i class="fa fa-angle-right"></i>
            </li>
            <li>
                <i class="fa fa-home"></i>
                <a href="{{path('carreras_index')}}">Carreras</a>
                <i class="fa fa-angle-right"></i>
            </li>
            <li class="active">Administracion de Carreras - Estadisticas</li>
        </ol>
    </div>
    <!-- /.breadcrumb-wrapper -->
</div>
<!-- /.header-content -->
<!--/ End page header -->
<div class="body-content animated fadeIn">


    <div class="row">
        <div class="panel">
            <div class="panel-heading">
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="panel panel-primary">

                        <div class="panel-heading yearOld">
                            <h3 class="panel-title"> <i class="fa fa-file"></i> CARRERA: {{ entity.carrera }} - {{
                                entity.getUnivNivelAcademicoTipo.getDescripcion()}}</h3>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-11">
                        <div class="panel panel-primary">

                            <div class="panel-body">

                                <div class="row">

                                    <div class="col-md-2">

                                        <div class="table-responsive mb-20">

                                            <div class="alert yearOld" style="text-align: center;">
                                                <strong>OPERATIVOS DISPONIBLES</strong>
                                            </div>
                                            <div class="formatyears">
                                                <table class="table table-bordered">
                                                    <thead class="thead-dark">
                                                        <tr>
                                                            <th scope="col">#</th>
                                                            <th scope="col">Gestión</th>


                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        {% set var = 1 %}
                                                        {% for entity in gestiones %}

                                                            {% if gestion_id == entity.gestion_tipo_id %}      
                                                            <tr scope="row" class="success">
                                                                <td class="text-center"><strong>{{var}}</strong></td>
                                                                <td >
                                                                    <strong>
                                                                    {{entity.gestion_tipo_id }}                                                            
                                                                    </strong>
                                                                </td>
                                                            </tr>
                                                            {% else %}
                                                            <tr scope="row">
                                                                <td class="text-center">{{var}}</td>
                                                                <td >
                                                                    <a href="{{ path('carreras_info',  {'carrera_id':carrera_id, 'gestion' :  entity.gestion_tipo_id}) }}"
                                                                        data-toggle="tooltip" data-placement="top"
                                                                        data-original-title="Ver Estadisticas">{{
                                                                        entity.gestion_tipo_id }}</a>                                                               
                                                                </td>
                                                            </tr>

                                                            {% endif %}
                                                            
                                                            {% set var = var + 1 %}
                                                        {% endfor %}
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="col-md-10">

                                        {% if sindatoenlagestion == false %}

                                            <div class="row" style="padding: 10px;">

                                                <table width="30%" padding="20" border="0">
                                                    <th>
                                                        <td  >
                                                            <a href="#"
                                                            class="btn btn-teal btn-block" style="border-radius: 2px;"
                                                            id="btn_sin_dato">Reportar sin información en la gestión</a> 
                                                        </td>                                                   
                                                    </th>
                                                </table>
                                                <div class="messagejustifica" id="messagejustifica"></div>
                                                                        
                                            </div>
                                           
                                        {% else %}

                                        <div class="callout callout-warning">
                                            <strong>IMPORTANTE!</strong>  SE HA REGISTRADO ESTA GESTION COMO <strong>"SIN DATOS"</strong>. PARA REVERTIR ESTE ESTADO DEBE COMUNICARSE CON EL MINISTERIO DE EDUCACION
                                           
                                        </div>

                                        {% endif %}
                                        <br>
                                        <div class="alert alert-success fa-2xs" style="border-radius: 10px;">
                                            <span class="alert-icon"><i class="fa fa-user"></i></span>
                                            <div class="notification-info">
                                                <ul class="clearfix notification-meta">
                                                    <li class="pull-left notification-sender"><span><strong>REGISTRO DE ESTUDIANTES SEGUN TIPO DE
                                                                    BECA POR GENERO EN LA GESTION Y
                                                                    PERIODO</strong></span></li>
                                                    <li class="pull-right notification-sender" id="label_gestion_est">
                                                        <strong>GESTION: {{ gestion_id }}</strong></li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="messagebecas" id="messagebecas"></div>

                                        <div class="formatallstaff">
                                            <form name="form" method="post" role="form" id="formBecas">
                                                <table id="table1" class="table table-bordered">
                                                    <thead>
                                                        <tr>
                                                            <th width="50%" style="text-align:center" rowspan="2">
                                                                <strong>TIPO DE BECA</strong></th>
                                                            <th colspan="2" style="text-align:center"><strong>1er.
                                                                    Periodo</strong></th>

                                                            {% if data.periodos == 2 %}
                                                            <th colspan="2" style="text-align:center"><strong>2do.
                                                                    Periodo</strong></th>
                                                            {% endif %}

                                                        </tr>
                                                        <tr>
                                                            <th style="text-align:center"><strong>Masculino</strong>
                                                            </th>
                                                            <th style="text-align:center"><strong>Femenino</strong></th>

                                                            {% if data.periodos == 2 %}
                                                            <th style="text-align:center"><strong>Masculino</strong>
                                                            </th>
                                                            <th style="text-align:center"><strong>Femenino</strong></th>

                                                            {% endif %}

                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        {% for key, entity in data.array_estudiantes %}
                                                        <tr>
                                                            <td> {{ entity.matricula }}</td>

                                                            <td class="success" id="af{{ key + 1 }}c1">
                                                                <input type="number" min="0" max="9999"
                                                                    id="{{ entity.idm1 }}" name="form[{{entity.idm1}}]"
                                                                    class="form-control clase1" value="{{ entity.m1 }}"
                                                                    onclick="this.select();"
                                                                    onclick="calculaTotales(this)"
                                                                    oninput="calculaTotales(this)"
                                                                    onblur="datoVacio(this)" />
                                                            </td>
                                                            <td class="success" id="af{{ key + 1 }}c2">
                                                                <input type="number" min="0" max="9999"
                                                                    id="{{ entity.idf1 }}" name="form[{{entity.idf1}}]"
                                                                    class="form-control clase2" value="{{ entity.f1 }}"
                                                                    onclick="this.select();"
                                                                    onclick="calculaTotales(this)"
                                                                    oninput="calculaTotales(this)"
                                                                    onblur="datoVacio(this)" />
                                                            </td>

                                                            {% if data.periodos == 2 %}

                                                            <td class="success" id="af{{ key + 1 }}c4">
                                                                <input type="number" min="0" max="9999"
                                                                    id="{{ entity.idm2 }}" name="form[{{entity.idm2}}]"
                                                                    class="form-control clase3" value="{{ entity.m2 }}" 
                                                                    onclick="this.select();"
                                                                    onclick="calculaTotales(this)"
                                                                    oninput="calculaTotales(this)"
                                                                    onblur="datoVacio(this)" />
                                                            </td>
                                                            <td class="success" id="af{{ key + 1 }}c5">
                                                                <input type="number" min="0" max="9999"
                                                                    id="{{ entity.idf2 }}" name="form[{{entity.idf2}}]"
                                                                    class="form-control clase4" value="{{ entity.f2 }}" 
                                                                    onclick="this.select();"
                                                                    onclick="calculaTotales(this)"
                                                                    oninput="calculaTotales(this)"
                                                                    onblur="datoVacio(this)" />
                                                            </td>

                                                            {% endif %}

                                                        </tr>
                                                        {% endfor %}


                                                        <tr>
                                                            <th>TOTALES</th>
                                                            {% if data.periodos == 1 %}
                                                            <th id="total1">{{ totales1[0].m1}}</th>
                                                            <th id="total2">{{ totales1[0].f1}}</th>
                                                            {% else %}
                                                            <th id="total1">{{ totales1[0].m1}}</th>
                                                            <th id="total2">{{ totales1[0].f1}}</th>
                                                            <th id="total3">{{ totales1[0].m2}}</th>
                                                            <th id="total4">{{ totales1[0].f2}}</th>
                                                            {% endif %}


                                                        </tr>


                                                        <tr>
                                                            <td></td>
                                                            {% if data.periodos == 1 %}
                                                            {% if opestatus == 1 %}
                                                            <td colspan="2"> <a href="#"
                                                                    class="btn btn-success btn-block"
                                                                    id="form_save_becas">Registrar Estadísticas</a> </td>
                                                            {% endif %}        
                                                            {% else %}
                                                            <td colspan="4"> 
                                                                {% if opestatus == 1 %}
                                                                <a href="#"
                                                                    class="btn btn-success btn-block"
                                                                    id="form_save_becas">Registrar Estadísticas</a> 
                                                                {% endif %}
                                                                </td>
                                                            {% endif %}
                                                        </tr>

                                                    </tbody>




                                                </table>
                                            </form>
                                        </div>


                                        <hr>

                                        <div class="alert alert-warning fa-2xs" style="border-radius: 10px;">
                                            <span class="alert-icon"><i class="fa fa-file"></i></span>
                                            <div class="notification-info">
                                                <ul class="clearfix notification-meta">
                                                    <li class="pull-left notification-sender"><span><strong>REGISTRO DE ESTUDIANTES POR TIPO DE
                                                                    MATRICULA Y GENERO EN LA
                                                                    GESTION Y PERIODO</strong></span></li>
                                                    <li class="pull-right notification-sender" id="label_gestion_est">
                                                        <strong>GESTION: {{ gestion_id }}</strong></li>
                                                </ul>
                                            </div>
                                        </div>

                                        <div class="messagematriculas" id="messagematriculas"></div>
                                        <div class="formatallstaff">
                                            <form name="formMatriculas" method="post" id="formMatriculas">
                                                <table id="table2" class="table table-bordered">
                                                    <thead>
                                                        <tr>
                                                            <th width="50%" rowspan="2" style="text-align:center">
                                                                <strong>TIPO MATRICULA</strong></th>
                                                            <th colspan="2" style="text-align:center"><strong>1er.
                                                                    Periodo</strong></th>

                                                            {% if data.periodos == 2 %}
                                                            <th style="text-align:center" colspan="2"><strong>2do.
                                                                    Periodo</strong></th>
                                                            {% endif %}

                                                        </tr>
                                                        <tr>
                                                            <th style="text-align:center"><strong>Masculino</strong>
                                                            </th>
                                                            <th style="text-align:center"><strong>Femenino</strong></th>

                                                            {% if data.periodos == 2 %}
                                                            <th style="text-align:center"><strong>Masculino</strong>
                                                            </th>
                                                            <th style="text-align:center"><strong>Femenino</strong></th>
                                                            {% endif %}

                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        {% for key, entity in data.array_tipo_matricula %}
                                                        <tr>
                                                            <td> {{ entity.matricula }}</td>

                                                            <td class="warning" id="cf{{ key + 1 }}c1">
                                                                <input type="number" min="0" max="9999"
                                                                    id="{{ entity.idm1 }}" name="form[{{entity.idm1}}]"
                                                                    class="form-control clase5" value="{{ entity.m1 }}" 
                                                                    onclick="this.select();" 
                                                                    onclick="calculaTotales2(this)" 
                                                                    oninput="calculaTotales2(this)"
                                                                    onblur="datoVacio2(this)" />

                                                            </td>
                                                            <td class="warning" id="cf{{ key + 1 }}c2">
                                                                <input type="number" min="0" max="9999"
                                                                    id="{{ entity.idf1 }}" name="form[{{entity.idf1}}]"
                                                                    class="form-control clase6" value="{{ entity.f1 }}" 
                                                                    onclick="this.select();" 
                                                                    onclick="calculaTotales2(this)" 
                                                                    oninput="calculaTotales2(this)"
                                                                    onblur="datoVacio2(this)" />
                                                            </td>

                                                            {% if data.periodos == 2 %}
                                                            <td class="warning" id="cf{{ key + 1 }}c4">
                                                                <input type="number" min="0" max="9999"
                                                                    id="{{ entity.idm2 }}" name="form[{{entity.idm2}}]"
                                                                    class="form-control clase7" value="{{ entity.m2 }}" 
                                                                    onclick="this.select();" 
                                                                    onclick="calculaTotales2(this)" 
                                                                    oninput="calculaTotales2(this)"
                                                                    onblur="datoVacio2(this)" />

                                                            </td>
                                                            <td class="warning" id="cf{{ key + 1 }}c5">
                                                                <input type="number" min="0" max="9999"
                                                                    id="{{ entity.idf2 }}" name="form[{{entity.idf2}}]"
                                                                    class="form-control clase8" value="{{ entity.f2 }}" 
                                                                    onclick="this.select();" 
                                                                    onclick="calculaTotales2(this)" 
                                                                    oninput="calculaTotales2(this)"
                                                                    onblur="datoVacio2(this)" />
                                                            </td>
                                                            {% endif %}

                                                        </tr>
                                                        {% endfor %}

                                                        <tr>
                                                            <th>TOTALES</th>
                                                            {% if data.periodos == 1 %}
                                                            <th id="total5">{{ totales2[0].m1}}</th>
                                                            <th id="total6">{{ totales2[0].f1}}</th>
                                                            {% else %}
                                                            <th id="total5">{{ totales2[0].m1}}</th>
                                                            <th id="total6">{{ totales2[0].f1}}</th>
                                                            <th id="total7">{{ totales2[0].m2}}</th>
                                                            <th id="total8">{{ totales2[0].f2}}</th>
                                                            {% endif %}
                                                        
                                                        
                                                        </tr>


                                                        <tr>
                                                            <td> </td>
                                                            {% if data.periodos == 1 %}
                                                            <td colspan="2"> 
                                                                {% if opestatus == 1 %}
                                                                    <a href="#"
                                                                    class="btn btn-success btn-block"
                                                                    id="form_save_matriculas">Registrar Estadísticas</a> </td>
                                                                {% endif %}        
                                                            {% else %}
                                                            <td colspan="4"> 
                                                                {% if opestatus == 1 %}
                                                                    <a href="#"
                                                                    class="btn btn-success btn-block"
                                                                    id="form_save_matriculas">Registrar Estadísticas</a> 
                                                                {% endif %}
                                                                </td>
                                                            {% endif %}
                                                        </tr>                                                        

                                                    </tbody>                                                   

                                                </table>
                                            </form>
                                        </div>


                                        {% if es_indigena == 1 %}
                                        <hr>

                                        <div class="alert alert-danger fa-2xs">
                                            <span class="alert-icon"><i class="fa fa-users"></i></span>
                                            <div class="notification-info">
                                                <ul class="clearfix notification-meta">
                                                    <li class="pull-left notification-sender"><span><strong>REGISTRO DE DOCENTES POR GENERO EN LA
                                                                    GESTION Y PERIODO (SOLO UNIVERSIDADES INDIGENAS,
                                                                    POLICIALES Y OTROS)</strong></span></li>
                                                    <li class="pull-right notification-sender" id="label_gestion_est">
                                                        <strong>GESTION: {{ gestion_id }}</strong></li>
                                                </ul>
                                            </div>
                                        </div>

                                        <div class="messagecargos" id="messagecargos"></div>
                                        <div class="formatallstaff">
                                            <form name="formCargos" method="post" id="formCargos">
                                                <table id="table3" class="table table-bordered">
                                                    <thead>
                                                        <tr>
                                                            <th width="50%" style="text-align:center" rowspan="2">
                                                                <strong>TIPO CARGO</strong></th>
                                                            <th colspan="2" style="text-align:center"><strong>1er.
                                                                    Periodo</strong></th>

                                                            {% if data.periodos == 2 %}
                                                            <th colspan="2" style="text-align:center"><strong>2do.
                                                                    Periodo</strong></th>
                                                            {% endif %}

                                                        </tr>
                                                        <tr>
                                                            <th style="text-align:center"><strong>Masculino</strong>
                                                            </th>
                                                            <th style="text-align:center"><strong>Femenino</strong></th>

                                                            {% if data.periodos == 2 %}
                                                            <th style="text-align:center"><strong>Masculino</strong>
                                                            </th>
                                                            <th style="text-align:center"><strong>Femenino</strong></th>

                                                            {% endif %}
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        {% for key, entity in data.array_cargos %}
                                                        <tr>
                                                            <td> {{ entity.matricula }}</td>

                                                            <td class="" id="bf{{ key + 1 }}c1">
                                                                <input type="number" min="0" max="9999"                                                                   
                                                                    id="{{ entity.idm1 }}" name="form[{{entity.idm1}}]"
                                                                    class="form-control clase9" value="{{ entity.m1 }}"
                                                                    onclick="this.select();" 
                                                                    onclick="calculaTotales3(this)" 
                                                                    oninput="calculaTotales3(this)"
                                                                    onblur="datoVacio3(this)" />

                                                                    
                                                            </td>
                                                            <td class="" id="bf{{ key + 1 }}c2">
                                                                <input type="number" min="0" max="9999"
                                                                    onfocusout="losesFocus()" id="{{ entity.idf1 }}"
                                                                    name="form[{{entity.idf1}}]" class="form-control clase10"
                                                                    value="{{ entity.f1 }}" 
                                                                    onclick="this.select();" 
                                                                    onclick="calculaTotales3(this)" 
                                                                    oninput="calculaTotales3(this)"
                                                                    onblur="datoVacio3(this)" />
                                                            </td>


                                                            {% if data.periodos == 2 %}

                                                            <td class="" id="bf{{ key + 1 }}c4">
                                                                <input type="number" min="0" max="9999"
                                                                    id="{{ entity.idm2 }}" name="form[{{entity.idm2}}]"
                                                                    class="form-control clase11" value="{{ entity.m2 }}" 
                                                                    onclick="this.select();" 
                                                                    onclick="calculaTotales3(this)" 
                                                                    oninput="calculaTotales3(this)"
                                                                    onblur="datoVacio3(this)" />
                                                            </td>
                                                            <td class="" id="bf{{ key + 1 }}c5">
                                                                <input type="number" min="0" max="9999"
                                                                    id="{{ entity.idf2 }}" name="form[{{entity.idf2}}]"
                                                                    class="form-control clase12" value="{{ entity.f2 }}" 
                                                                    onclick="this.select();" 
                                                                    onclick="calculaTotales3(this)" 
                                                                    oninput="calculaTotales3(this)"
                                                                    onblur="datoVacio3(this)" />
                                                            </td>


                                                            {% endif %}
                                                        </tr>
                                                        {% endfor %}

                                                        <tr>
                                                            <th>TOTALES</th>
                                                            {% if data.periodos == 1 %}
                                                            <th id="total9">{{ totales3[0].m1}}</th>
                                                            <th id="total10">{{ totales3[0].f1}}</th>
                                                            {% else %}
                                                            <th id="total9">{{ totales3[0].m1}}</th>
                                                            <th id="total10">{{ totales3[0].f1}}</th>
                                                            <th id="total11">{{ totales3[0].m2}}</th>
                                                            <th id="total12">{{ totales3[0].f2}}</th>
                                                            {% endif %}
                                                        
                                                        
                                                        </tr>

                                                        <tr>
                                                            <td> </td>
                                                            {% if data.periodos == 1 %}
                                                            <td colspan="2"> 
                                                                {% if opestatus == 1 %}
                                                                    <a href="#"
                                                                    class="btn btn-success btn-block"
                                                                    id="form_save_cargos">Registrar Estadísticas</a> 
                                                                {% endif %}
                                                                </td>
                                                            {% else %}
                                                            <td colspan="4"> 
                                                                {% if opestatus == 1 %}
                                                                    <a href="#"
                                                                    class="btn btn-success btn-block"
                                                                    id="form_save_cargos">Registrar Estadísticas</a> 
                                                                {% endif %}
                                                            </td>
                                                            {% endif %}
                                                        </tr>

                                                    </tbody>



                                                </table>
                                            </form>
                                        </div>

                                        {% endif %}


                                    </div>
                                </div>

                                <br><br>

                                <div class="row">

                                    <div class="col-md-3">


                                    </div>


                                </div>

                            </div>
                            <!-- /.panel-body -->
                        </div>
                    </div>

                    <div class="col-md-1">
                    </div>

                    {##
                    <div class="col-md-3">
                        <div class="panel panel-info">
                            <div class="panel-heading yearOld">
                                <h3 class="panel-title"> <i class="fa fa-file"></i> Panel Info</h3>
                            </div>
                            <!-- /.panel-heading -->
                            <div class="panel-body">
                                <div style=" text-align: center;">
                                    <i class="fa fa-institution fa-lg"></i>
                                </div>

                                <h3>{{ central.universidad }}</h3>
                                <h4> Sede: La Paz </h4>
                                <hr>

                            </div>
                            <!-- /.panel-body -->
                        </div>
                    </div>
                    ##}

                </div>
            </div>
        </div>


    </div>


</div>

<div id="modal-sin-info" class="modal modal-success fade bs-example-modal-lg" tabindex="-1" role="dialog"
    aria-hidden="true">
    <div class="modal-dialog modal-m">
        <div class="modal-content">          
            <div class="modal-body">               

                <div class="alert alert-danger">
                    <strong> SIN INFORMACION EN LA GESTION ? </strong>
                </div>

                <div class="callout callout-warning">
                    <strong>Atencion!</strong> Para indicar que NO se tienen datos disponibles de esta <strong>carrera</strong> en esta <strong>gestion</strong>, debe colocar una justificacion documentada para consideracion del Ministerio de Educación</a>.
                </div>

                <br>

                <form name="form" method="post" role="form" id="formJustifica" class="formatyearsform">               
                    <div>
                    <input type="hidden" name="carrera_id" id="carrera_id" value={{carrera_id}}>
                    <input type="hidden" name="gestion_id" id="gestion_id" value={{gestion_id}}>
                    <textarea name="justifica" id="justifica" class="form-control" maxlength="250" rows="5" placeholder="Introduzca la justificacion para esta accion "></textarea> 

                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                <button class="btn btn-theme" onclick="updateSinInfo();">Proceder</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="modal-estudiante" class="modal modal-success fade bs-example-modal-lg" tabindex="-1" role="dialog"
    aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <!--div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title">REGISTRO DE ESTUDIANTES</h4>
                    </div-->
            <div class="modal-body">
                <div class="alert alert-info">
                    <strong>MODIFICAR DATOS DE ESTUDIANTES</strong>
                </div>

                <form action="project-issue-tracker.html#" class="formatyearsform">
                    <div>

                        <input type="hidden" id="registro_id" name="registro_id" value="">
                        <input type="hidden" id="fila" name="fila" value="">

                        <div class="row">
                            <div class="col-sm-12">
                                <label for="fecha_apertura">Género</label>
                                <select name="genero_id" id="genero_id" class="">
                                    {% for c in generos %}
                                    <option value="{{ c.id }}">{{c.genero}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <br>

                        <div class="row">
                            <div class="col-sm-12">
                                <label for="nivel">Periodo Académico</label>
                                <select name="periodo_id" id="periodo_id" class="">
                                    {% for c in periodos %}
                                    <option value="{{ c.id }}">{{c.descripcion}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <br>

                        <div class="row">
                            <div class="col-sm-12">
                                <label for="nivel">Cantidad de Estudiantes</label>
                                <input type="text" class="form-control" id="cantidad" placeholder="" maxlength="5">
                            </div>
                        </div>

                        <br>

                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                <button class="btn btn-theme" onclick="updateInfo();">Grabar</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<div id="modal-cargos" class="modal modal-success fade bs-example-modal-lg2" tabindex="-1" role="dialog"
    aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <!--div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">REGISTRO DE ESTUDIANTES</h4>
                </div-->
            <div class="modal-body">
                <div class="alert alert-info">
                    <strong>REGISTRAR DATOS DE DOCENTES</strong>
                </div>

                <form action="project-issue-tracker.html#" class="formatyearsform">
                    <div class="form-body no-padding">

                        <div class="row">
                            <div class="col-sm-12">
                                <label for="fecha_apertura">Género</label>
                                <select name="arrNivel" id="genero_id2">
                                    {% for c in generos %}
                                    <option value="{{ c.id }}">{{c.genero}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <br>

                        <div class="row">
                            <div class="col-sm-12">
                                <label for="nivel">Periodo Académico</label>
                                <select name="arrNivel" id="periodo_id2">
                                    {% for c in periodos %}
                                    <option value="{{ c.id }}">{{c.descripcion}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <br>

                        <div class="row">
                            <div class="col-sm-12">
                                <label for="fecha_apertura">Tipo Cargo</label>
                                <select name="arrNivel" id="nivel">
                                    {% for c in cargos %}
                                    <option value="{{ c.id }}">{{c.cargo}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <br>

                        <div class="row">
                            <div class="col-sm-12">
                                <label for="nivel">Cantidad</label>
                                <input type="text" class="form-control" id="cantidad2" placeholder="" maxlength="5">
                            </div>
                        </div>

                        <br>

                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                <button class="btn btn-theme" onclick="updateInfo2();">Grabar</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<div id="modal-matriculas" class="modal modal-success fade bs-example-modal-lg2" tabindex="-1" role="dialog"
    aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <!--div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">REGISTRO DE ESTUDIANTES</h4>
                </div-->
            <div class="modal-body">
                <div class="alert alert-info">
                    <strong>REGISTRAR DATOS TIPO DE MATRICULA</strong>
                </div>

                <form action="project-issue-tracker.html#" class="formatyearsform">
                    <div class="form-body no-padding">

                        <div class="row">
                            <div class="col-sm-12">
                                <label for="fecha_apertura">Género</label>
                                <select name="arrNivel" id="genero_id2">
                                    {% for c in generos %}
                                    <option value="{{ c.id }}">{{c.genero}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <br>

                        <div class="row">
                            <div class="col-sm-12">
                                <label for="nivel">Periodo Académico</label>
                                <select name="arrNivel" id="periodo_id2">
                                    {% for c in periodos %}
                                    <option value="{{ c.id }}">{{c.descripcion}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <br>

                        <div class="row">
                            <div class="col-sm-12">
                                <label for="fecha_apertura">Tipo Matriculas</label>
                                <select name="arrNivel" id="nivel">
                                    {% for c in matriculasestado %}
                                    <option value="{{ c.id }}">{{c.estadomatricula}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <br>

                        <div class="row">
                            <div class="col-sm-12">
                                <label for="nivel">Cantidad</label>
                                <input type="numeric" class="form-control" id="cantidad2" placeholder="" maxlength="5">
                            </div>
                        </div>

                        <br>

                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                <button class="btn btn-theme" onclick="updateInfo2();">Grabar</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>



</div>
</div>

<!-- /.row -->



{% endblock %}
{% block javascripts %}
{{ parent() }}

<script>


    function calculaTotales(control) {

        console.log('here');
       //control.setSelectionRange(0, control.value.length)

        var tm1 = 0;
        var tf1 = 0;

        var tm2 = 0;
        var tf2 = 0;

        $('.clase1').each(function (i, obj) {
            tm1 = parseInt(tm1) + parseInt(obj.value);
        });

        $('.clase2').each(function (i, obj) {
            tf1 = parseInt(tf1) + parseInt(obj.value);
        });

        $('.clase3').each(function (i, obj) {
            tm2 = parseInt(tm2) + parseInt(obj.value);
        });

        $('.clase4').each(function (i, obj) {
            tf2 = parseInt(tf2) + parseInt(obj.value);
        });
        console.log(tm1);
        console.log(tf1);
        console.log(tm2);
        console.log(tf2);

        $('#total1').html(tm1);
        $('#total2').html(tf1);
        $('#total3').html(tm2);
        $('#total4').html(tf2);
    }

    function calculaTotales2(control) {

            console.log('here2');
            //control.setSelectionRange(0, control.value.length)

            var tm1 = 0;
            var tf1 = 0;

            var tm2 = 0;
            var tf2 = 0;

            $('.clase5').each(function (i, obj) {
                tm1 = parseInt(tm1) + parseInt(obj.value);
            });

            $('.clase6').each(function (i, obj) {
                tf1 = parseInt(tf1) + parseInt(obj.value);
            });

            $('.clase7').each(function (i, obj) {
                tm2 = parseInt(tm2) + parseInt(obj.value);
            });

            $('.clase8').each(function (i, obj) {
                tf2 = parseInt(tf2) + parseInt(obj.value);
            });
            console.log(tm1);
            console.log(tf1);
            console.log(tm2);
            console.log(tf2);

            $('#total5').html(tm1);
            $('#total6').html(tf1);
            $('#total7').html(tm2);
            $('#total8').html(tf2);
        }


    function calculaTotales3(control) {

            console.log('here3');
            //control.setSelectionRange(0, control.value.length)

            var tm1 = 0;
            var tf1 = 0;

            var tm2 = 0;
            var tf2 = 0;

            $('.clase9').each(function (i, obj) {
                tm1 = parseInt(tm1) + parseInt(obj.value);
            });

            $('.clase10').each(function (i, obj) {
                tf1 = parseInt(tf1) + parseInt(obj.value);
            });

            $('.clase11').each(function (i, obj) {
                tm2 = parseInt(tm2) + parseInt(obj.value);
            });

            $('.clase12').each(function (i, obj) {
                tf2 = parseInt(tf2) + parseInt(obj.value);
            });
            console.log(tm1);
            console.log(tf1);
            console.log(tm2);
            console.log(tf2);

            $('#total9').html(tm1);
            $('#total10').html(tf1);
            $('#total11').html(tm2);
            $('#total12').html(tf2);
        }

    function losesFocus() {
        console.log("Focus Lost!");
    }

    var ingresoSede = function (sede) {
        var formSede = $('#form_sede');
        var formulario = $('#form')[0];
        formSede.val(sede);
        formulario.submit();
        return true;
    };

    $('#btn_sin_dato').click(function () {
        showModalSinInfo();
    });

    function showModalSinInfo(){
        $("#modal-sin-info").modal('show');
    }

    function updateEstudiantes(id, fila) {
        console.log(id, fila);

        document.getElementById("registro_id").setAttribute('value', id);
        document.getElementById("fila").setAttribute('value', fila);
        /*
        document.getElementById("registro_id").value = id;
        document.getElementById("fila").value = fila;*/

        $("#modal-estudiante").modal('show');
    }

    function updateCargos(id, fila) {
        console.log(id, fila);

        document.getElementById("registro_id").setAttribute('value', id);
        document.getElementById("fila").setAttribute('value', fila);
        /*
        document.getElementById("registro_id").value = id;
        document.getElementById("fila").value = fila;*/

        $("#modal-cargos").modal('show');
    }

    function updateMatriculaTipo(id, fila) {
        console.log(id, fila);

        document.getElementById("registro_id").setAttribute('value', id);
        document.getElementById("fila").setAttribute('value', fila);
        /*
        document.getElementById("registro_id").value = id;
        document.getElementById("fila").value = fila;*/

        $("#modal-matriculas").modal('show');
    }


    function updateInfo() {

        if (confirm('Registrar Estadisticas ?')) {

            var col = document.getElementById("genero_id");
            var columna = col.value;
            console.log('columna:', columna);

            var per = document.getElementById("periodo_id");
            var periodo = per.value;
            console.log('periodo:', periodo);

            valor = document.getElementById("cantidad").value;
            console.log('valor:', valor);

            row_id = document.getElementById('registro_id').value;
            fila = document.getElementById('fila').value;
            console.log('fila:', fila);

            if (periodo === '1') {
                if (columna === '1') { document.getElementById(fila + 'c1').innerHTML = valor; }
                if (columna === '2') { document.getElementById(fila + 'c2').innerHTML = valor; }
                document.getElementById(fila + 'c3').innerHTML = parseInt(document.getElementById(fila + 'c1').innerText) + parseInt(document.getElementById(fila + 'c2').innerText);
            } else {
                if (columna === '1') { document.getElementById(fila + 'c4').innerHTML = valor; }
                if (columna === '2') { document.getElementById(fila + 'c5').innerHTML = valor; }
                document.getElementById(fila + 'c6').innerHTML = parseInt(document.getElementById(fila + 'c3').innerText) + parseInt(document.getElementById(fila + 'c4').innerText);
            }

            $('#modal-estudiante').modal('hide');

        }

    }

    function updateInfoBefore() {


        if (confirm('Registrar Estadisticas ?')) {

            /*$.ajax({
                type: 'post',
                url: Routing.generate('carrera_delete', {'id': id}),  
                success: function (data) {
                    console.log('deleted !');
                },
                error: function () {

                }
            });*/

            fila = 4;

            var col = document.getElementById("genero_id");
            var columna = col.value;
            console.log(columna);

            var per = document.getElementById("periodo_id");
            var periodo = per.value;
            console.log(periodo);

            valor = document.getElementById("cantidad").value;
            console.log(valor);

            if (periodo === '1') {
                if (columna === '1') { document.getElementById('f4c1').innerHTML = valor; }
                if (columna === '2') { document.getElementById('f4c2').innerHTML = valor; }
                document.getElementById('f4c3').innerHTML = parseInt(document.getElementById("f4c1").innerText) + parseInt(document.getElementById("f4c2").innerText);
            } else {
                if (columna === '1') { document.getElementById('f4c4').innerHTML = valor; }
                if (columna === '2') { document.getElementById('f4c5').innerHTML = valor; }
                document.getElementById('f4c6').innerHTML = parseInt(document.getElementById("f4c3").innerText) + parseInt(document.getElementById("f4c4").innerText);
            }

            $('#modal-assign').modal('hide');





        }

        return false;
    }

    function loadData(gestion) {

        console.log('gestion: ', gestion);



        /*for(fila=1; fila<=4; fila++)
        {            
            //fila = 4;
            //console.log(fila);
            document.getElementById('f' + fila + 'c1').innerHTML = getRandomValue();
            document.getElementById('f' + fila + 'c2').innerHTML = getRandomValue();
            document.getElementById('f' + fila + 'c3').innerHTML = parseInt(document.getElementById ('f' + fila + 'c1' ).innerText) + parseInt(document.getElementById ( 'f' + fila + 'c2' ).innerText);

            document.getElementById('f' + fila + 'c4').innerHTML = getRandomValue();
            document.getElementById('f' + fila + 'c5').innerHTML = getRandomValue();
            document.getElementById('f' + fila + 'c6').innerHTML = parseInt(document.getElementById ( 'f' + fila + 'c3' ).innerText) + parseInt(document.getElementById ( 'f' + fila + 'c4' ).innerText);
        }*/

        document.getElementById('label_gestion_est').innerHTML = '<strong>Gestion: ' + gestion + '</strong>';
        //document.getElementById('label_gestion_doc').innerHTML  ='<strong>Gestion: ' + gestion + '</strong>';

    }

    function getRandomValue() {
        return Math.floor(Math.random() * 101);
    }

    $('#form_save_becas').on("click", function () {
       

        swal({
            title: "¿Grabar Datos?",
            icon: "warning",
            buttons: true,
            dangerMode: true,
            buttons: ["Cancelar", "Grabar"],
        })
        .then(function(respuesta)  {
            if (respuesta) {
                var imagen = '{{ asset("img/loading.gif") }}';
                /*var r = confirm("¿Desea registrar la información ?");
                if (r == false) {
                    return false;
                }*/

                var formulario = document.getElementById("formBecas"); //$('#formBecas');
                var formData = new FormData(formulario);

                formData.append('key1', 'value1');
                console.log(formData);
                $.ajax({
                    type: 'post',
                    url: Routing.generate('carrera_estadistica_becas_save'),
                    data: formData,
                    processData: false,
                    contentType: false,
                    beforeSend: function () {
                        swal({
                            title: "Registrando la informacion...",
                            text: "Espere un momento por favor",
                            icon: imagen,
                            buttons: false
                        });
                        //$('#form_save_becas').attr("disabled", true);
                        //$("#messagebecas").append('<div class="text-center" id="message"><img src="{{asset('img / loading.gif')}}" class="loading img-responsive" /></div>');
                    },
                    success: function (data) {
                        $('#form_save_becas').attr("disabled", false);
                        $('#messagebecas').empty();
                        if (data.estado) {
                            //Swal.fire('la información ha sido registrada');
                            $("#messagebecas").html('<div class="alert alert-success alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><strong>Correcto:</strong> ' + data.msg + '</div>');
                        } else {
                            $("#message").append('<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><strong>Error:</strong> ' + data.msg + '</div>');
                        }
                    },
                    complete: function () {
                        swal.stopLoading();
                        swal.close();
                        $(".messagebecas").fadeTo(3000, 1000).slideUp(1000, function(){
                            $(".messagebecas").slideUp(1000);
                        });
                    },
                    error: function (error) {
                        $('#message').empty();
                        $("#message").append('<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><strong>Error:</strong> no fue posible realizar en registro, intente nuevamente</div>');
                        //boton.show();
                    },
                });

            }        
        
        })

    });

    $('#form_save_matriculas').on("click", function () {

        swal({
            title: "¿Grabar Datos?",
            icon: "warning",
            buttons: true,
            dangerMode: true,
            buttons: ["Cancelar", "Grabar"],
        })
        .then(function(respuesta)  {
            if (respuesta) {
                var imagen = '{{ asset("img/loading.gif") }}';
                //console.log('form_save_matriculas');
                /*var r = confirm("¿Desea Registrar Estadísticas el registro?");
                if (r == false) {
                    return false;
                }*/

                var formulario = document.getElementById("formMatriculas"); //$('#formBecas');
                var formData = new FormData(formulario);

                formData.append('key1', 'value1');
                console.log(formData);
                $.ajax({
                    type: 'post',
                    url: Routing.generate('carrera_estadistica_matriculas_save'),
                    data: formData,
                    processData: false,
                    contentType: false,
                    beforeSend: function () {
                        swal({
                            title: "Registrando la informacion...",
                            text: "Espere un momento por favor",
                            icon: imagen,
                            buttons: false
                        });
                        //$("#messagematriculas").append('<div class="text-center" id="message"><img src="{{asset('img / loading.gif')}}" class="loading img-responsive" /></div>');
                    },
                    success: function (data) {
                        $('#messagematriculas').empty();
                        if (data.estado) {
                            $("#messagematriculas").html('<div class="alert alert-success alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><strong>Correcto:</strong> ' + data.msg + '</div>');
                        } else {
                            $("#message").append('<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><strong>Error:</strong> ' + data.msg + '</div>');
                        }
                    },
                    complete: function () {
                        swal.stopLoading();
                        swal.close();
                        $(".messagematriculas").fadeTo(3000, 1000).slideUp(1000, function(){
                            $(".messagematriculas").slideUp(1000);
                        });
                    },
                    error: function (error) {
                        $('#message').empty();
                        $("#message").append('<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><strong>Error:</strong> no fue posible realizar en registro, intente nuevamente</div>');
                        //boton.show();
                    },
                });


            }

        })

    });

    $('#form_save_cargos').on("click", function () {

        swal({
            title: "¿Grabar Datos?",
            icon: "warning",
            buttons: true,
            dangerMode: true,
            buttons: ["Cancelar", "Grabar"],
        })
        .then(function(respuesta)  {
            if (respuesta) {

                /*console.log('form_save_cargos');
                var r = confirm("¿Desea Registrar Estadísticas el registro?");
                if (r == false) {
                    return false;
                }*/

                var formulario = document.getElementById("formCargos"); //$('#formBecas');
                var formData = new FormData(formulario);

                formData.append('key1', 'value1');
                console.log(formData);
                $.ajax({
                    type: 'post',
                    url: Routing.generate('carrera_estadistica_cargos_save'),
                    data: formData,
                    processData: false,
                    contentType: false,
                    beforeSend: function () {
                        $("#messagecargos").append('<div class="text-center" id="message"><img src="{{asset('img / loading.gif')}}" class="loading img-responsive" /></div>');
                    },
                    success: function (data) {
                        $('#messagecargos').empty();
                        if (data.estado) {
                            $("#messagecargos").html('<div class="alert alert-success alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><strong>Correcto:</strong> ' + data.msg + '</div>');
                        } else {
                            $("#message").append('<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><strong>Error:</strong> ' + data.msg + '</div>');
                        }
                    },
                    error: function (error) {
                        $('#message').empty();
                        $("#message").append('<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><strong>Error:</strong> no fue posible realizar en registro, intente nuevamente</div>');
                        //boton.show();
                    },
                });

            }

        })


        
    });

    var datoVacio = function (control) {
        /*console.log('vacio?');
        console.log(control.value);*/
        if (control.value == "") { control.value = 0; }
        if (control.value > 9999) { control.value = 0; }
        if (control.value < 0) { control.value = 0; }
        calculaTotales(control);
    }

    var datoVacio2 = function (control) {
        /*console.log('vacio?');
        console.log(control.value);*/
        if (control.value == "") { control.value = 0; }
        if (control.value > 9999) { control.value = 0; }
        if (control.value < 0) { control.value = 0; }
        calculaTotales2(control);
    }

    var datoVacio3 = function (control) {
        /*console.log('vacio?');
        console.log(control.value);*/
        if (control.value == "") { control.value = 0; }
        if (control.value > 9999) { control.value = 0; }
        if (control.value < 0) { control.value = 0; }
        calculaTotales3(control);
    }
    
    function  updateSinInfo(){

        if(document.getElementById("justifica").value == ""  ||  document.getElementById("justifica").value.length  < 50){
            //no hay justificacion
            alert("DEBE ESPECIFICAR LA JUSTIFICACION DE ESTA ACCION (MINIMO 50 CARACTERES) !");
            document.getElementById("justifica").focus();

        }else{

            //procede

            swal({
                title: "¿Grabar Justificacion ?",
                icon: "warning",
                buttons: true,
                dangerMode: true,
                buttons: ["Cancelar", "Grabar"],
            })
            .then(function(respuesta)  {
                if (respuesta) {              
    
                    var formulario = document.getElementById("formJustifica"); //$('#formBecas');
                    var formData = new FormData(formulario);
    
                    formData.append('key1', 'value1');
                    console.log(formData);
                    $.ajax({
                        type: 'post',
                        url: Routing.generate('carrera_sin_info_save'),
                        data: formData,
                        processData: false,
                        contentType: false,
                        beforeSend: function () {
                            $("#messagejustifica").append('<div class="text-center" id="message"><img src="{{asset('img / loading.gif')}}" class="loading img-responsive" /></div>');
                        },
                        success: function (data) {
                            $('#messagejustifica').empty();
                            $("#modal-sin-info").modal('hide');
                            $("#messagejustifica").html('<div class="alert alert-success alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><strong>Correcto:</strong> ' + data.msg + '</div>');
                        },
                        error: function (error) {
                            $('#message').empty();
                            $("#message").append('<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><strong>Error:</strong> no fue posible realizar en registro, intente nuevamente</div>');
                            //boton.show();
                        },
                    });
    
                }
    
            });



        }
       
       

    }




</script>
{% endblock %}