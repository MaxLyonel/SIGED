 
    <div class="row">
        <div class="col-lg-12">
            <div class="page-title">
                <h1>Creación de nuevo Rude
                    <small></small>
                </h1>
                <ol class="breadcrumb">
                    <li><i class="fa fa-lock"></i><a> Gestión de Usuarios y Personas</a></li>
                    <li class="active"><i class="fa fa-key"></i> Nuevo Rude</li>
                </ol>
            </div>
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="portlet portlet-dark-blue">
                <div class="portlet-heading">
                    <div class="portlet-title">
                        <h4><i class="fa fa-search"></i> Primer paso: Verificación de datos basicos.</h4>
                    </div>
                    <div class="portlet-widgets">
                        <a data-toggle="collapse" data-parent="#accordion" href="basic-form-elements.html#busquedadatos"><i class="fa fa-chevron-down"></i></a>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div id="busquedadatos" class="panel-collapse collapse in">
                    <div class="portlet-body">
                        <div class="panel-body">                            
                            <form id="busquedaDatosForm" data-toggle="validator" role="form" name="busquedaDatosForm" method="get" class="navbar-form" onsubmit="return enviaformdatosbasicos();">
                                <div class="form-group has-feedback">                                           
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <label class="required">Nombre :</label>                                            
                                            <input type="text" class="form-control typeahead rounded" name="busquedaDatosForm[InputNombre]" id="busquedaDatosForm_InputNombre" placeholder="Nombres" required onkeypress="return soloLetras(event);" maxlength="40">                                                    
                                        </div>                                                                                              
                                        <div class="col-lg-6">
                                            <label class="required">Paterno :</label>
                                            <input type="text" class="form-control typeahead rounded" name="busquedaDatosForm[InputPaterno]" id="busquedaDatosForm_InputPaterno" placeholder="Paterno" onkeypress="return soloLetras(event);" maxlength="25">
                                        </div>
                                        <div class="col-lg-6">
                                            <label class="required">Materno :</label>
                                            <input type="text" class="form-control typeahead rounded" name="busquedaDatosForm[InputMaterno]" id="busquedaDatosForm_InputMaterno" placeholder="Materno" onkeypress="return soloLetras(event);" maxlength="25">                                                    
                                        </div>                                                                                              
                                        <div class="col-lg-6">
                                            <div>     
                                                <label class="required">Fecha de Nacimiento :</label>
                                                <div id="fechanacimiento" class="form-control" pattern="(0[1-9]|1[0-9]|2[0-9]|3[01]).(0[1-9]|1[012]).[0-9]{4}" placeholder="dd-mm-aaaa">
                                                    <select  id="busquedaDatosForm_fechaNacimiento_day" name="busquedaDatosForm[fechaNacimiento][day]">
                                                        <option value="-999">...</option>
                                                        <option value="1">1</option>
                                                        <option value="2">2</option>
                                                        <option value="3">3</option>
                                                        <option value="4">4</option>
                                                        <option value="5">5</option>
                                                        <option value="6">6</option>
                                                        <option value="7">7</option>
                                                        <option value="8">8</option>
                                                        <option value="9">9</option>
                                                        <option value="10">10</option>
                                                        <option value="11">11</option>
                                                        <option value="12">12</option>
                                                        <option value="13">13</option>
                                                        <option value="14">14</option>
                                                        <option value="15">15</option>
                                                        <option value="16">16</option>
                                                        <option value="17">17</option>
                                                        <option value="18">18</option>
                                                        <option value="19">19</option>
                                                        <option value="20">20</option>
                                                        <option value="21">21</option>
                                                        <option value="22">22</option>
                                                        <option value="23">23</option>
                                                        <option value="24">24</option>
                                                        <option value="25">25</option>
                                                        <option value="26">26</option>
                                                        <option value="27">27</option>
                                                        <option value="28">28</option>
                                                        <option value="29">29</option>
                                                        <option value="30">30</option>
                                                        <option value="31">31</option>
                                                    </select>
                                                    <select  id="busquedaDatosForm_fechaNacimiento_mount" name="busquedaDatosForm[fechaNacimiento][mount]">                                                            
                                                        <option value="-999">...</option>
                                                        <option value="1">Ene</option>
                                                        <option value="2">Feb</option>
                                                        <option value="3">Mar</option>
                                                        <option value="4">Abr</option>
                                                        <option value="5">May</option>
                                                        <option value="6">Jun</option>
                                                        <option value="7">Jul</option>
                                                        <option value="8">Ago</option>
                                                        <option value="9">Sep</option>
                                                        <option value="10">Oct</option>
                                                        <option value="11">Nov</option>
                                                        <option value="12">Dec</option>
                                                    </select>
                                                    <select  id="busquedaDatosForm_fechaNacimiento_year" name="busquedaDatosForm[fechaNacimiento][year]">                                                            
                                                        <option value="-999">...</option>
                                                        <option value="1917">1917</option>
                                                        <option value="1918">1918</option>
                                                        <option value="1919">1919</option>
                                                        <option value="1920">1920</option>
                                                        <option value="1921">1921</option>
                                                        <option value="1922">1922</option>
                                                        <option value="1923">1923</option>
                                                        <option value="1924">1924</option>
                                                        <option value="1925">1925</option>
                                                        <option value="1926">1926</option>
                                                        <option value="1927">1927</option>
                                                        <option value="1928">1928</option>
                                                        <option value="1929">1929</option>
                                                        <option value="1930">1930</option>
                                                        <option value="1931">1931</option>
                                                        <option value="1932">1932</option>
                                                        <option value="1933">1933</option>
                                                        <option value="1934">1934</option>
                                                        <option value="1935">1935</option>
                                                        <option value="1936">1936</option>
                                                        <option value="1937">1937</option>
                                                        <option value="1938">1938</option>
                                                        <option value="1939">1939</option>
                                                        <option value="1940">1940</option>
                                                        <option value="1941">1941</option>
                                                        <option value="1942">1942</option>
                                                        <option value="1943">1943</option>
                                                        <option value="1944">1944</option>
                                                        <option value="1945">1945</option>
                                                        <option value="1946">1946</option>
                                                        <option value="1947">1947</option>
                                                        <option value="1948">1948</option>
                                                        <option value="1949">1949</option>
                                                        <option value="1950">1950</option>
                                                        <option value="1951">1951</option>
                                                        <option value="1952">1952</option>
                                                        <option value="1953">1953</option>
                                                        <option value="1954">1954</option>
                                                        <option value="1955">1955</option>
                                                        <option value="1956">1956</option>
                                                        <option value="1957">1957</option>
                                                        <option value="1958">1958</option>
                                                        <option value="1959">1959</option>
                                                        <option value="1960">1960</option>
                                                        <option value="1961">1961</option>
                                                        <option value="1962">1962</option>
                                                        <option value="1963">1963</option>
                                                        <option value="1964">1964</option>
                                                        <option value="1965">1965</option>
                                                        <option value="1966">1966</option>
                                                        <option value="1967">1967</option>
                                                        <option value="1968">1968</option>
                                                        <option value="1969">1969</option>
                                                        <option value="1970">1970</option>
                                                        <option value="1971">1971</option>
                                                        <option value="1972">1972</option>
                                                        <option value="1973">1973</option>
                                                        <option value="1974">1974</option>
                                                        <option value="1975">1975</option>
                                                        <option value="1976">1976</option>
                                                        <option value="1977">1977</option>
                                                        <option value="1978">1978</option>
                                                        <option value="1979">1979</option>
                                                        <option value="1980">1980</option>
                                                        <option value="1981">1981</option>
                                                        <option value="1982">1982</option>
                                                        <option value="1983">1983</option>
                                                        <option value="1984">1984</option>
                                                        <option value="1985">1985</option>
                                                        <option value="1986">1986</option>
                                                        <option value="1987">1987</option>
                                                        <option value="1988">1988</option>
                                                        <option value="1989">1989</option>
                                                        <option value="1990">1990</option>
                                                        <option value="1991">1991</option>
                                                        <option value="1992">1992</option>
                                                        <option value="1993">1993</option>
                                                        <option value="1994">1994</option>
                                                        <option value="1995">1995</option>
                                                        <option value="1996">1996</option>
                                                        <option value="1997">1997</option>
                                                        <option value="1998">1998</option>
                                                        <option value="1999">1999</option>
                                                        <option value="2000">2000</option>
                                                        <option value="2001">2001</option>
                                                        <option value="2002">2002</option>
                                                        <option value="2003">2003</option>
                                                        <option value="2004">2004</option>
                                                        <option value="2005">2005</option>
                                                        <option value="2006">2006</option>
                                                        <option value="2007">2007</option>
                                                        <option value="2008">2008</option>
                                                        <option value="2009">2009</option>
                                                        <option value="2010">2010</option>
                                                        <option value="2011">2011</option>
                                                        <option value="2012">2012</option> 
                                                        <option value="2013">2013</option> 
                                                        <option value="2014">2014</option> 
                                                        <option value="2015">2015</option>
                                                        <option value="2016">2016</option> 
                                                        <option value="2017">2017</option>
                                                        <option value="2018">2018</option>                                                         
                                                    </select>
                                                </div>
                                            </div>                                                    
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="row">
                                        <div id="divdatoadicionales">
                                            <div class="col-lg-6">
                                                <center>
                                                    <div id="divbutonveri">
                                                        <button type="submit" class="btn btn-theme fa fa-check form-control-feedback rounded"> Verificar</button>                                                
                                                    </div>
                                                </center> 
                                            </div>                                    
                                            <div class="col-lg-6">
                                                 <div id="divbutonsig">

                                                 </div>
                                            </div>
                                        </div>    
                                    </div>
                                </div>
                            </form>
                        </div>                        
                    </div>
                </div>                                              
            </div>
        </div>
    </div>
    {#<div id="divdatoadicionales">
        <div class="col-lg-6">
            <center> 
                <button type="submit" class="btn btn-theme fa fa-check form-control-feedback rounded"> Verificar</button>                                                
            </center> 
        </div>                                    
        <div class="col-lg-6">
             <div id="divbutonsig">

             </div>
        </div>
    </div> #}                           
    <div class="row">
        <div class="col-lg-12">
            <div id="listaestudiantes">
                                
            </div>  
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-body">
                    <center> 
                        <a role="button" class="btn btn-default btn-large glyphicon glyphicon-remove-sign" href="#" onclick="modaluserclose();"> Cerrar</a>
                    </center>            
                </div>
            </div> 
        </div>
    </div>                                       
    <script>
        $('#busquedaDatosForm_InputNombre').keyup(function() {
            this.value = this.value.toUpperCase();
        });
        $('#busquedaDatosForm_InputPaterno').keyup(function() {
            this.value = this.value.toUpperCase();
        });
        $('#busquedaDatosForm_InputMaterno').keyup(function() {
            this.value = this.value.toUpperCase();
        });

        //Se utiliza para que el complemento
        function soloComplemento(e) {
            key = e.keyCode || e.which;
            tecla = String.fromCharCode(key).toString();
            letras = "ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789";//Se define todo el abecedario que se quiere que se muestre.
            especiales = [8, 37, 39, 46, 6, 9]; //Es la validación del KeyCodes, que teclas recibe el campo de texto.
            tecla_especial = false
            for(var i in especiales) {
                if(key == especiales[i]) {
                    tecla_especial = true;
                    break;
                }
            }
            if(letras.indexOf(tecla) == -1 && !tecla_especial)
                return false;
        }
        
        //Se utiliza para que el campo de texto solo acepte letras
        function soloLetras(e) {
            key = e.keyCode || e.which;
            tecla = String.fromCharCode(key).toString();
            letras = " áéíóúabcdefghijklmnñopqrstuvwxyzÁÉÍÓÚABCDEFGHIJKLMNÑOPQRSTUVWXYZ";//Se define todo el abecedario que se quiere que se muestre.
            especiales = [8, 37, 39, 46, 6, 9]; //Es la validación del KeyCodes, que teclas recibe el campo de texto.
            tecla_especial = false
            for(var i in especiales) {
                if(key == especiales[i]) {
                    tecla_especial = true;
                    break;
                }
            }
            if(letras.indexOf(tecla) == -1 && !tecla_especial)
                return false;
        }
        
        //Se utiliza para que el campo de texto solo acepte letras
        function soloNumeros(e) {
            key = e.keyCode || e.which;
            tecla = String.fromCharCode(key).toString();
            letras = " 1234567890";//Se define todo el abecedario que se quiere que se muestre.
            especiales = [8, 37, 39, 46, 6, 9]; //Es la validación del KeyCodes, que teclas recibe el campo de texto.
            tecla_especial = false
            for(var i in especiales) {
                if(key == especiales[i]) {
                    tecla_especial = true;
                    break;
                }
            }
            if(letras.indexOf(tecla) == -1 && !tecla_especial)
                return false;
        }
        
        function valcampos() {
            var nombre = $('#busquedaDatosForm_InputNombre').val();
            var paterno = $('#busquedaDatosForm_InputPaterno').val();
            var materno = $('#busquedaDatosForm_InputMaterno').val();
            var day = $('#busquedaDatosForm_fechaNacimiento_day').val();
            var mount = $('#busquedaDatosForm_fechaNacimiento_mount').val();
            var year = $('#busquedaDatosForm_fechaNacimiento_year').val();
            {#alert(dia);#}
            var stop = true;            
            if (((paterno === '') && (materno === '')) && (stop == true)){
                alert('Debe incluir alguno de los apellidos.(materno,paterno)');
                stop = false;
            }
            if ((nombre === paterno) && (stop == true)){
                alert('El apellido paterno no puede ser igual al nombre.');
                stop = false;
            }
            if ((nombre === materno) && (stop == true)){
                alert('El apellido materno no puede ser igual al nombre.');
                stop = false;
            }            
            if ((nombre.length < 3) && (stop == true)){
                alert('El nombre debe tener un minimo de 3 caracteres.');
                stop = false;
            }
            if((stop == true) && ((nombre.substring(0, 3) === 'ASD') || (nombre.substring(0, 3) === 'QWE') || (nombre.substring(0, 3) === 'ZXC') || (nombre.substring(0, 3) === 'SDF') || (nombre.substring(0, 3) === 'XCV'))){
                    alert('El nombre debe tener coherencia.');
                    stop = false;
                }
            if ((paterno != '') && (stop == true)){
                if (paterno.length < 2){
                    alert('El apellido paterno debe tener un minimo de 2 caracteres.');
                    stop = false;
                } 
                if((paterno.substring(0, 3) === 'ASD') || (paterno.substring(0, 3) === 'QWE') || (paterno.substring(0, 3) === 'ZXC') || (paterno.substring(0, 3) === 'SDF') || (paterno.substring(0, 3) === 'XCV')){
                    alert('El apellido paterno debe tener coherencia.');
                    stop = false;
                }
            }            
            if ((materno != '') && (stop == true)){
                if (materno.length < 2){
                    alert('El apellido materno debe tener un minimo de 2 caracteres.');
                    stop = false;
                }                
                if((materno.substring(0, 3) === 'ASD') || (materno.substring(0, 3) === 'QWE') || (materno.substring(0, 3) === 'ZXC') || (materno.substring(0, 3) === 'SDF') || (materno.substring(0, 3) === 'XCV')){
                    alert('El apellido materno debe tener coherencia.');
                    stop = false;
                }
            }                                   
            if ((day == '-999') && (stop == true)){                
                alert('Debe seleccionar un dia.');
                stop = false;
            }
            if ((mount == '-999') && (stop == true)){                
                alert('Debe seleccionar un mes.');
                stop = false;
            }
            if ((year == '-999') && (stop == true)){                
                alert('Debe seleccionar un año.');
                stop = false;
            }
            
            return stop;
        }

        function enviaformdatosbasicos() {
            {#var msj = '\n\n ¿Esta seguro de continuar?';#}
            if (valcampos()) {
                var formData = $('#busquedaDatosForm').serialize();
                $.ajax({
                    type: 'get',
                    url: Routing.generate('sie_usuario_estudiante_busqueda_datos'),
                    data: formData,
                    beforeSend: function () {                        
                       
                    },
                    success: function (data) {
                        $("#busquedaDatosForm_InputNombre").prop("disabled", true );
                        $("#busquedaDatosForm_InputPaterno").prop("disabled", true );
                        $("#busquedaDatosForm_InputMaterno").prop("disabled", true );
                        $("#busquedaDatosForm_fechaNacimiento_day").prop("disabled", true );
                        $("#busquedaDatosForm_fechaNacimiento_mount").prop("disabled", true );
                        $("#busquedaDatosForm_fechaNacimiento_year").prop("disabled", true );
                        $("#fechanacimiento").prop("disabled", true );                        
                        $("#listaestudiantes").empty();
                        $("#listaestudiantes").append(data);
                        $("#divbutonveri").empty();
                        $("#divbutonsig").empty();
                        $("#divbutonsig").html('<center> <a id="botonsiguienteestu" role="button" class="btn btn-theme fa fa-check form-control-feedback rounded fa fa-arrow-circle-o-right" href="#" onclick="estudiantesiguiente();"> Siguiente</a> </center> ');                        
                    },
                    error: function () {
                        
                    }
                });
            }
            return false;  
        }
        
        function estudiantesiguiente() {
            var msj = '¡ADVERTENCIA! ¡Lea atentamente!';    
                msj += '\nPasar al siguiente paso indica que :';
                msj += '\n1.- Usted garantiza la veracidad de los datos introducidos';
                msj += '\n2.- El estudiante no figura en la lista de coincidencias';
                msj += '\n\n ¿Esta seguro de continuar?';
            if (confirm(msj)) {
                var nombre = $('#busquedaDatosForm_InputNombre').val();
                var paterno = $('#busquedaDatosForm_InputPaterno').val();
                var materno = $('#busquedaDatosForm_InputMaterno').val();
                var day = $('#busquedaDatosForm_fechaNacimiento_day').val();
                var mount = $('#busquedaDatosForm_fechaNacimiento_mount').val();
                var year = $('#busquedaDatosForm_fechaNacimiento_year').val();
                $.ajax({
                    type: 'get',
                    url: Routing.generate('sie_usuario_estudiante_siguiente'),
                    data: { 
                        "nombre": nombre, 
                        "paterno": paterno, 
                        "materno": materno,
                        "day": day,
                        "mount": mount,
                        "year": year
                    },
                    beforeSend: function () {                        

                    },
                    success: function (data) {
                        $("#listaestudiantes").empty();                    
                        $("#divdatoadicionales").empty();
                        $("#listaestudiantes").append(data);        
                    },
                    error: function () {

                    }
                });
            }
            return false;    
        }
    </script>   
